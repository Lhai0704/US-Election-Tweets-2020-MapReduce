<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <script src="echarts.simple.js"></script>

    <!--引入百度地图-->
    <script  type="text/javascript"
             src="http://api.map.baidu.com/api?v=2.0&ak=6HMmEKtMoQDFsMTlyAgwlOfuxY4IZsM4" ></script>
    <!--引入百度热力图-->
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>


</head>
<body>
<template>
    <!--一定要给宽高，不然会报错，container没有高度-->
    <div id="chart">
        echarts百度地图
    </div>
</template>

<script>

    export default {
        data(){
            return {

            }
        },
        mounted(){
            let myChart = this.$echarts.init(document.getElementById('chart'));
            var uploadedDataURL = "test.json";

            $.getJSON(uploadedDataURL, function (data) {

                var points = [].concat.apply([], data.map(function (track) {
                    return track.map(function (seg) {
                        return seg.coord.concat([1]);
                    });
                }));
                myChart.setOption({
                    animation: false,
                    bmap: {
                        center: [120.13066322374, 30.240018034923],
                        zoom: 14,
                        roam: true
                    },
                    visualMap: {
                        show: false,
                        top: 'top',
                        min: 0,
                        max: 5,
                        seriesIndex: 0,
                        calculable: true,
                        inRange: {
                            color: ['blue', 'blue', 'green', 'yellow', 'red']
                        }
                    },
                    series: [{
                        type: 'heatmap',
                        coordinateSystem: 'bmap',
                        data: points,
                        pointSize: 5,
                        blurSize: 6
                    }]
                });

                var bmap = myChart.getModel().getComponent('bmap').getBMap();
                bmap.addControl(new BMap.MapTypeControl());
            });


        },
        methods:{

        }
    }
</script>

<style>
    #chart{
        width: 100%;
        height: 100%;
    }
</style>

</body>
</html>